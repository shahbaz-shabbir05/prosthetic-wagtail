{% load static i18n wagtailcore_tags %}

<div
  class="relative flex hover:cursor-pointer"
  x-data="{ showLocaleMenu: false }"
>
  <div class="flex gap-4" @click="showLocaleMenu = !showLocaleMenu">
    <p>{{ page.locale }}</p>
    <img
      src="{% static 'img/globe_white.svg' %}"
      height="24px"
      width="24px"
      alt="Globe symbol"
    />
    <div
      x-cloak
      x-show="showLocaleMenu"
      class="absolute -top-52 z-50 rounded-3xl bg-white p-2 px-4 text-left font-normal text-black shadow-taska"
    >
      <ul class="flex flex-col space-y-2">
        {% for language_code, language_name in LANGUAGES %}
          {% get_language_info for language_code as lang %}
          {% language language_code %}
            <a
              href="{% pageurl page.localized %}"
              rel="alternate"
              hreflang="{{ language_code }}"
            >
              {{ lang.name_local|capfirst }}
            </a>
          {% endlanguage %}
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
